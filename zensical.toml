[project]
site_name = "waku"
extra_css = ["assets/stylesheets/extra.css"]
site_description = "A Python framework for creating modular, loosely coupled, and extensible applications"
site_url = "https://waku-py.github.io/waku/"
repo_name = "waku-py/waku"
repo_url = "https://github.com/waku-py/waku"
copyright = """
  &copy; 2024-2026 <a href="https://github.com/waku-py" target="_blank" rel="noopener">waku-py</a><br>
  <a href="#__consent">Change cookie settings</a>
"""
docs_dir = "docs"
nav = [
  { "Overview" = "index.md" },
  { "Getting Started" = "getting-started.md" },
  { "Fundamentals" = [
    "fundamentals/application.md",
    "fundamentals/modules.md",
    "fundamentals/providers.md",
    "fundamentals/integrations.md",
    "fundamentals/testing.md",
  ] },
  { "Advanced" = [
    "advanced/conditional-providers.md",
    "advanced/multi-bindings.md",
    "advanced/di-patterns.md",
    "advanced/custom-extensions.md",
  ] },
  { "Extensions" = [
    { "Lifecycle Hooks" = "extensions/lifecycle.md" },
    { "Mediator (CQRS)" = "extensions/cqrs.md" },
    { "Validation" = "extensions/validation.md" },
    { "Event Sourcing" = [
      "extensions/eventsourcing/index.md",
      { "Aggregates" = "extensions/eventsourcing/aggregates.md" },
      { "Event Store" = "extensions/eventsourcing/event-store.md" },
      { "Projections" = "extensions/eventsourcing/projections.md" },
      { "Snapshots" = "extensions/eventsourcing/snapshots.md" },
      { "Schema Evolution" = "extensions/eventsourcing/schema-evolution.md" },
      { "Testing" = "extensions/eventsourcing/testing.md" },
    ] },
  ] },
  { "API" = "reference.md" },
  { "Contributing" = [
    { "Contributing Guide" = "contributing/contributing.md" },
    { "Documentation" = "contributing/docs.md" }
  ] },
  { "Changelog" = "changelog.md" },
]

[project.extra.analytics]
provider = "google"
property = "G-58BG5HHK50"

[project.extra.analytics.feedback]
title = "Was this page helpful?"

[[project.extra.analytics.feedback.ratings]]
icon = "material/emoticon-happy-outline"
name = "This page was helpful"
data = 1
note = "Thanks for your feedback!"

[[project.extra.analytics.feedback.ratings]]
icon = "material/emoticon-sad-outline"
name = "This page could be improved"
data = 0
note = """
  Thanks for your feedback! Help us improve this page by
  using our <a href="..." target="_blank" rel="noopener">feedback form</a>.
"""

[project.extra.consent]
title = "Cookie consent"
description = """
    We use cookies to recognize your repeated visits and preferences, as well
    as to measure the effectiveness of our documentation and whether users
    find what they're searching for. With your consent, you're helping us to
    make our documentation better.
"""

[[project.extra.social]]
icon = "fontawesome/brands/telegram"
link = "https://t.me/wakupy"

[[project.extra.social]]
icon = "fontawesome/brands/github"
link = "https://github.com/waku-py/waku"

[[project.extra.social]]
icon = "fontawesome/brands/python"
link = "https://pypi.org/project/waku/"

# Markdown extensions
[project.markdown_extensions.abbr]
[project.markdown_extensions.admonition]
[project.markdown_extensions.attr_list]
[project.markdown_extensions.def_list]
[project.markdown_extensions.footnotes]
[project.markdown_extensions.md_in_html]
[project.markdown_extensions.tables]
[project.markdown_extensions.toc]
permalink = true
[project.markdown_extensions.toc.slugify]
object = "pymdownx.slugs.slugify"
kwds = { case = "lower" }

[project.markdown_extensions.pymdownx.betterem]
smart_enable = "all"
[project.markdown_extensions.pymdownx.caret]
[project.markdown_extensions.pymdownx.details]
[project.markdown_extensions.pymdownx.emoji]
emoji_generator = "zensical.extensions.emoji.to_svg"
emoji_index = "zensical.extensions.emoji.twemoji"
[project.markdown_extensions.pymdownx.highlight]
anchor_linenums = true
line_spans = "__span"
pygments_lang_class = true
[project.markdown_extensions.pymdownx.inlinehilite]
[project.markdown_extensions.pymdownx.keys]
[project.markdown_extensions.pymdownx.magiclink]
[project.markdown_extensions.pymdownx.mark]
[project.markdown_extensions.pymdownx.smartsymbols]
[project.markdown_extensions.pymdownx.snippets]
auto_append = ["docs/includes/abbreviations.md"]
check_paths = true
[project.markdown_extensions.pymdownx.superfences]
custom_fences = [
  { name = "mermaid", class = "mermaid", format = "pymdownx.superfences.fence_code_format" }
]
[project.markdown_extensions.pymdownx.tabbed]
alternate_style = true
[project.markdown_extensions.pymdownx.tabbed.slugify]
object = "pymdownx.slugs.slugify"
kwds = { case = "lower" }
[project.markdown_extensions.pymdownx.tasklist]
custom_checkbox = true
[project.markdown_extensions.pymdownx.tilde]

# Plugins
[project.plugins.mkdocstrings.handlers.python]
inventories = ["https://docs.python.org/3/objects.inv"]
paths = ["src"]

[project.plugins.mkdocstrings.handlers.python.options]
docstring_style = "google"
filters = ["!^_"]
show_root_heading = true
show_if_no_docstring = true
inherited_members = true
members_order = "source"
separate_signature = true
unwrap_annotated = true
merge_init_into_class = true
docstring_section_style = "spacy"
signature_crossrefs = true
show_symbol_type_heading = true
show_symbol_type_toc = true

# Theme
[project.theme]
language = "en"
logo = "assets/kanji-logo.svg"
features = [
  "content.code.annotate",
  "content.code.copy",
  "content.code.select",
  "content.tooltips",
  "navigation.footer",
  "navigation.indexes",
  "navigation.instant",
  "navigation.instant.prefetch",
  "navigation.instant.progress",
  "navigation.path",
  "navigation.sections",
  "navigation.tabs",
  "navigation.tabs.sticky",
  "navigation.top",
  "navigation.tracking",
  "search.highlight",
  "search.suggest",
  "toc.follow",
]

[project.theme.icon]
repo = "fontawesome/brands/github"

# Light/dark mode toggle
[[project.theme.palette]]
media = "(prefers-color-scheme)"
toggle.icon = "lucide/sun-moon"
toggle.name = "Switch to light mode"

[[project.theme.palette]]
media = "(prefers-color-scheme: light)"
scheme = "default"
primary = "purple"
accent = "deep purple"
toggle.icon = "lucide/sun"
toggle.name = "Switch to dark mode"

[[project.theme.palette]]
media = "(prefers-color-scheme: dark)"
scheme = "slate"
primary = "purple"
accent = "deep purple"
toggle.icon = "lucide/moon"
toggle.name = "Switch to system preference"
